<template>

  <el-dropdown trigger="click" class="international" @command="handleSetLanguage">
    <div>
      <svg-icon  class-name="international-icon" icon-class="language" /><span style="margin-left: 8px;color: #409EFF">{{ $t('base.curLanguage')}}:{{showLanguage}}</span>
    </div>
    <el-dropdown-menu slot="dropdown">
      <el-dropdown-item :disabled="language==='zh'" command="zh">中文</el-dropdown-item>
      <el-dropdown-item :disabled="language==='en'" command="en">English</el-dropdown-item>
      <el-dropdown-item :disabled="language==='es'" command="es">Español</el-dropdown-item>
    </el-dropdown-menu>

  </el-dropdown>

</template>

<script>
export default {

  computed: {
    language() {
      return this.$store.getters.language
    },
    showLanguage() {
      switch (this.language) {
        case 'zh':
          return '中文'
        case 'es':
          return '西班牙语'
        case 'en':
          return 'English'
        default:
          return '未知'
      }
    }
  },
  methods: {
    handleSetLanguage(lang) {
      this.$i18n.locale = lang
      this.$store.dispatch('app/setLanguage', lang)
    }
  }
}
</script>
